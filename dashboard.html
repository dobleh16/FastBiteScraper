<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="dashboard.css">
    <title>FastBite - Dashboard de Prospectos</title>
</head>

<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="brand">
                <div class="brand-icon">FB</div>
                <h2>FastBiteSaaS</h2>
            </div>

            <!-- WA Templates -->
            <div class="sidebar-section">
                <h3>ğŸ’¬ Plantillas WhatsApp</h3>
                <select id="templateSelect"></select>
                <label for="ordersInput">Pedidos promedio/dÃ­a:</label>
                <input type="number" id="ordersInput" value="30" />
                <label for="waTemplate">Mensaje:</label>
                <textarea id="waTemplate" rows="10"></textarea>
                <div class="template-actions">
                    <button id="saveTemplateBtn" class="btn small primary">Guardar</button>
                    <button id="newTemplateBtn" class="btn small secondary">+ Nueva</button>
                    <button id="deleteTemplateBtn" class="btn small danger">Eliminar</button>
                </div>
            </div>

            <!-- Summary -->
            <div class="sidebar-section summary-section">
                <h3>ğŸ“Š Resumen</h3>
                <div class="stat-badge"><span>Total:</span><span id="statTotal">0</span></div>
                <div class="stat-badge hot"><span>ğŸ”¥ Calientes:</span><span id="statHot">0</span></div>
                <div class="stat-badge warm"><span>ğŸŸ¡ Tibios:</span><span id="statWarm">0</span></div>
                <div class="stat-badge cold"><span>â„ï¸ FrÃ­os:</span><span id="statCold">0</span></div>
                <div class="stat-badge wapp"><span>ğŸ“± WhatsApp:</span><span id="statWa">0</span></div>
                <!-- Mini chart -->
                <div class="mini-chart" id="miniChart"></div>
            </div>

            <div class="export-actions">
                <button id="downloadFullCsv" class="btn secondary">ğŸ“¥ Descargar CSV</button>
                <button id="downloadPdfBtn" class="btn primary">ğŸ“„ Descargar PDF (Visitas)</button>
                <button id="clearHistoryBtn" class="btn small danger" style="margin-top:8px">ğŸ—‘ï¸ Limpiar
                    Historial</button>
            </div>
        </aside>

        <main class="main-content">
            <header class="topbar">
                <h1>GestiÃ³n de Prospectos</h1>
                <div class="topbar-right">
                    <span id="historyCount" class="history-badge">Historial: 0</span>
                </div>
            </header>

            <!-- Filters -->
            <div class="filter-bar">
                <input type="text" id="searchInput" placeholder="ğŸ” Buscar por nombre o categorÃ­a..." />
                <select id="scoreFilter">
                    <option value="all">Todos los Scores</option>
                    <option value="hot">ğŸ”¥ Caliente</option>
                    <option value="warm">ğŸŸ¡ Tibio</option>
                    <option value="cold">â„ï¸ FrÃ­o</option>
                </select>
                <select id="waFilter">
                    <option value="all">WhatsApp: Todos</option>
                    <option value="yes">Con WhatsApp</option>
                    <option value="no">Sin WhatsApp</option>
                </select>
                <select id="statusFilter">
                    <option value="all">Estado: Todos</option>
                    <option value="Sin contactar">Sin contactar</option>
                    <option value="Contactado">Contactado</option>
                    <option value="Interesado">Interesado</option>
                    <option value="No interesado">No interesado</option>
                    <option value="Cliente">Cliente</option>
                </select>
            </div>

            <div class="table-container">
                <table id="prospectosTable">
                    <thead>
                        <tr>
                            <th class="sortable" data-col="Nombre">Restaurante â†•</th>
                            <th>Contacto</th>
                            <th class="sortable" data-col="Score_Prospecto">Score â†•</th>
                            <th class="sortable" data-col="Calificacion">Rating â†•</th>
                            <th>CategorÃ­a</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
        </main>
    </div>
    <script src="dashboard.js"></script>
</body>

</html>